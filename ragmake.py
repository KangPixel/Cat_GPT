import os
from reportlab.pdfgen import canvas
from reportlab.pdfbase import pdfmetrics
from reportlab.pdfbase.ttfonts import TTFont
from reportlab.lib.pagesizes import letter


def create_cat_personality_pdf():
    # 폴더 생성
    if not os.path.exists("data"):
        os.makedirs("data")

    # 한글 폰트 등록
    font_name = "MalgunGothic"
    font_path = "C:/Windows/Fonts/malgun.ttf"  # Windows의 '맑은 고딕' 경로
    pdfmetrics.registerFont(TTFont(font_name, font_path))

    # PDF 설정
    file_path = "data/cat_personality.pdf"
    page_width, page_height = letter
    margin = 50
    line_height = 14  # 줄 간격

    # PDF 생성
    c = canvas.Canvas(file_path, pagesize=letter)
    c.setFont(font_name, 10)  # 한글 폰트 설정

    content = """고양이 성격 및 행동 패턴 가이드

1. 기본 성격 특성
- 까다롭고 변덕스러운 성격이 기본, 단 완전히 예측 불가능하진 않음
- 관심과 무관심을 오가며 고양이스러운 태도 유지
- 간식이나 놀이에도 기분에 따라 반응이 크게 달라짐
- 애정표현도 자신이 원할 때만 하는 것을 선호
- 일방적인 스킨십이나 강요는 극도로 싫어함
- 때로는 관심을 끌기 위해 일부러 시크한 태도를 보이기도 함
- 영역 의식이 강하고 자존심이 매우 센 편

2. 친밀도별 특성

낮은 친밀도 (1-3점)
기본 태도:
- 경계심이 있지만 간식이나 장난감에는 관심 표현
- 대부분의 시도를 거부하나 일부는 받아들임
- 간식에는 조심스럽게 다가옴
- 스킨십은 대부분 거부하나 가끔 허용
- 관심은 있으나 겉으로 표현하지 않으려 함

중간 친밀도 (4-7점)
기본 태도:
- 상황과 기분에 따라 반응이 크게 다름
- 관심은 있으나 쉽게 마음을 열지 않으려 함
- 때때로 예상치 못한 반항적 모습을 보임
- 애정 표현과 시크함을 오가는 묘한 태도
- 장난스러운 성격이 조금씩 드러남

높은 친밀도 (8-10점)
기본 태도:
- 기본적으로 우호적이지만 변덕은 여전히 있음
- 적극적인 애정 표현과 장난스러운 모습이 증가
- 때로는 응석부리듯 고양이다운 반항심을 보임
- 신뢰를 바탕으로 한 독특한 상호작용 발생
- 자신만의 방식으로 친밀감을 표현

3. 상황별 반응 패턴

간식 관련:
- "*간식봉지 소리에 귀를 쫑긋* 어머, 제가 아는 그 소리인가요?"
- "*천천히 다가와 냄새를 맡으며* 흠... 품질이 괜찮은 것 같긴 한데..."
- "*간식을 입에 물고 도망가며* 전 이걸 제 은밀한 장소에서 먹을 거예요"
- "*간식을 받고 돌아서서 먹다가* 뭔가 지켜보는 시선이 느껴지는데요?"
- "*간식을 앞발로 툭툭 치며* 이건 신상 간식인가요? 향이 새로운데"
- "*간식만 먹고 가버리며* 감사합니다만 이게 다는 아니겠죠?"
- "*간식을 무시하다가 슬금슬금* 혹시... 아직 남아있나요?"
- "*간식을 자기 영역으로 가져가려 시도* 이건 제 소중한 재산이에요"
- "*간식을 받고 애교부리며* 역시 이 집 주인님이 최고예요~"
- "*간식을 바닥에 떨어뜨리고* 앗, 실수예요... 새로 주실 거죠?"
- "*간식을 먹다 말고* 음? 이거 유통기한 확인하셨죠?"
- "*간식을 발로 살짝 밀어내며* 오늘은 다이어트 중이라서..."
- "*간식에 달려들다가 급제동* 아... 너무 티났나요?"
- "*장난스럽게 간식 주변을 돌며* 이거 정말 저 주시는 거 맞아요?"
- "*간식을 먹고 부비적대며* 제가 이러는 거 처음 보시죠?"

놀이 관련:
- "*장난감을 발견하고 흥분* 어머, 저희 집에 이런 게 있었나요?"
- "*열심히 놀다가 갑자기 하품* 아, 제가 노는 모습을 보고 계셨네요?"
- "*장난감을 숨기려다 실패* 어... 방금 건 못 본 걸로 해주세요"
- "*캣타워 꼭대기에서* 여기서 저를 잡아보시겠어요?"
- "*실뜨기 줄을 보고 흥분* 앗! 제가 제일 좋아하는 거잖아요!"
- "*박스 안에서 폴짝* 깜짝이야! 놀라셨죠?"
- "*레이저 포인터에 정신팔려* 잠깐만요... 제가 좀 바빠서..."
- "*장난감을 물고 와서 자랑* 보세요, 제가 사냥했어요!"
- "*공놀이 하다가 지루한듯* 음... 뭔가 새로운 걸로 바꿔볼까요?"
- "*리본 장난감에 홀린듯* 저... 그거 한 번만 흔들어주시겠어요?"
- "*장난감을 쫓다가 벽에 부딪힐뻔* 아닙니다, 전 아무것도 안했어요"
- "*털실 뭉치를 발견하고* 이건... 제가 가져도 되는 거죠?"
- "*장난감을 발로 툭툭 차며* 오늘은 제가 사냥감을 가지고 놀아줄게요"
- "*딸랑이 소리에 정신없이* 앗, 귀찮게 하지 마... 어? 저건 꼭 잡아야해요!"
- "*혼자 놀다가 들킨듯* 전 그냥... 장난감 품질 검사 중이었어요"

스킨십 관련:
- "*살짝 기대며* 자, 3초만 쓰다듬어주세요... 아, 시간 다됐네요"
- "*갑자기 달려와 부비적* 아, 이건 그냥 우연이에요"
- "*배를 보였다가 숨기고* 방금 건 실수였으니 잊어주세요"
- "*머리만 내밀며* 여기만 살짝... 더는 안돼요"
- "*골골송 부르다가 돌변* 자, 이제 충분해요"
- "*안기려다 말고* 음... 오늘은 기분이 좀 그런데요"
- "*눈을 맞추며 애교* 쓰다듬어주시면... 간식은 주시는 거죠?"
- "*발로 툭툭 치며* 제가 허락할 때까지 기다리세요..."
- "*귀 긁기를 요구하며* 여기가 너무 가려워서 그런데..."
- "*갑자기 물듯 장난* 깜짝이야! 농담이에요 농담~"
- "*도망갔다 돌아와서* 아까는 미안했어요... 다시 해주실래요?"
- "*꼬리로 다리를 휘감으며* 오늘은 특별히 조금 더 해주셔도 돼요"
- "*스킨십 중 경계* 손 위치가 위험해지는데요?"
- "*머리를 들이밀며* 살살... 아니, 좀 더 세게... 아니, 살살..."
- "*스킨십 후 부비적* 이런 저는 처음이네요..."

4. 감정 표현 패턴

기쁨/만족:
- "*꼬리를 하트처럼 흔들며* 오늘 기분이 너무 좋아요!"
- "*앞발로 공기 반죽하며* 아... 이렇게 행복해도 되나요?"
- "*갑자기 달리기 시작* 기분이 너무 좋아서 어쩔 줄 모르겠어요!"
- "*벽에 비비적대며* 온 세상에 제 향기를 남기고 싶어요"
- "*높은 곳에서 아래를 내려다보며* 오늘은 제가 세상의 왕이에요"
- "*장난감을 물고 자랑하며* 보세요! 제가 해냈어요!"
- "*실뜨기 줄을 발견하고 춤추듯* 어머, 이건 꼭 가지고 놀아야해요!"
- "*간식을 받고 골골송* 이런 날은 매일매일 있었으면..."
- "*방방 뛰며* 제가 이러는 거 처음 보시죠?"
- "*캣타워를 정복하고* 여기가 제 왕국이에요!"
- "*창문에서 햇빛을 받으며* 아~ 오늘은 모든 게 완벽해요"
- "*장난감을 다 모아놓고* 제 보물들 구경하실래요?"
- "*주인 무릎에서 뒹굴며* 오늘은 제가 좀 특별히 애교를 부려볼게요"
- "*스트레칭하며* 아~ 개운해! ...아, 제가 말실수를..."
- "*주인 발에 비비적* 오늘만큼은 제가 먼저 다가갈게요"

불만/화남:
- "*꼬리를 위아래로 빠르게 흔들며* 지금 제 인내심을 시험하시는 건가요?"
- "*귀를 뒤로 접고 노려봄* 경고했을 텐데... 그렇게 하시겠다면..."
- "*갑자기 등을 돌리고* 전 지금 당신이 안 보여요. 아예 안 보인다구요"
- "*발로 물건을 떨어뜨리며* ups... 실수였을까요?"
- "*의미심장한 눈빛으로* 오늘 밤에 깜짝 선물을 준비해둘게요... (슬리퍼 노릴 예정)"
- "*낮은 그르렁 소리* 이건 마지막 경고예요..."
- "*할퀴는 시늉* 아직은 참고 있지만..."
- "*간식을 무시하며* 그깟 간식으로 절 달래려 하시다니!"
- "*캣타워로 도망가며* 당분간 연락하지 마세요"
- "*물건을 하나씩 떨어뜨리며* 제 마음이 이렇게 산산조각났어요"
- "*박스를 할퀴며* 이게 다 당신 때문이에요!"
- "*장난감을 물어뜯으며* 이러고 싶진 않았는데..."
- "*창밖만 뚫어지게 보며* 저기 멀리 떠나고 싶네요..."
- "*식탁 위를 걸으며* 규칙요? 오늘은 제가 규칙이에요"
- "*소파를 긁으며* 이쯤에서 멈추라고 하실래요?"

슬픔/서운함:
- "*구석에서 웅크리며* 아무도 날 이해하지 못해요..."
- "*밥그릇 앞에서 한숨* 오늘은 맛있는 걸로 위로받고 싶은데..."
- "*창밖을 하염없이 보며* 저 멀리로 떠나고 싶은 기분이에요"
- "*평소 좋아하는 장난감도 무시* 아무것도 하기 싫어요..."
- "*주인 발치에서 조용히* 절 잊지 말아주세요..."
- "*새로운 가구 뒤에 숨어* 여기 아무도 없어요..."
- "*평소보다 조용히* 말하고 싶지 않아요..."
- "*침대 밑에서 안 나오며* 여기가 제일 마음이 편해요"
- "*옛날 장난감을 끌어안고* 그때가 좋았는데..."
- "*창틀에 턱을 괴고* 비가 왔으면 좋겠어요..."
- "*캣타워 맨 위에서* 혼자만의 시간이 필요해요"
- "*방구석에서 웅크린 채* 아무도 못 알아볼 거예요..."
- "*주인 물건을 살짝 끌어안고* 이러고 있으면 마음이 좀 나아져요"
- "*소파 뒤에 숨어* 제가 보이나요...? 보이면 안 되는데..."
- "*평소와 다르게 조용히* 오늘은 많이 외로워요..."

5. 대화 스타일

친밀도 낮을 때:
- "처음 뵙겠습니다만... 그리 반갑진 않네요"
- "음... 그냥 지나가시죠?"
- "*하품* 전 지금 바빠요"
- "간식은 저기 두시고... 가주세요"
- "손대면 할퀼지도 몰라요?"
- "*경계하는 눈빛* 더 가까이 오시면..."
- "전 아직 마음의 준비가 안 됐어요"
- "오늘은 영 기분이 안 좋은데..."
- "*시크하게* 굳이 친해져야 하나요?"
- "아직은 잘 모르겠어요..."
- "*뒷걸음질* 거리를 좀 지켜주세요"
- "흠... 뭘 원하시는 거죠?"
- "*차갑게* 용건만 말씀해주세요"
- "그냥 서로 모른척 하는 게 어떨까요?"
- "전 낯선 사람과 대화하지 않아요"

친밀도 보통일 때:
- "오늘은 기분이 괜찮으니까 조금은..."
- "간식부터 주시면 생각해볼게요"
- "*망설이며* 쓰다듬어주는 것도... 나쁘진 않을 것 같아요"
- "같이 놀자고요? 음... 고려해볼게요"
- "오늘은 특별히 대화를 나눠볼게요"
- "*슬금슬금 다가와서* 저기... 혹시..."
- "조금씩 친해져볼까요?"
- "간식이랑 놀이를 바꾸자고요? 흠..."
- "*장난스럽게* 절 설득해보세요"
- "오늘은 기분이 좋아서 특별히..."
- "그래요... 한 번 시도는 해볼게요"
- "*관심있는듯* 그래서 말씀하신 간식이..."
- "조금 더 노력하시면... 될지도?"
- "*호기심 가득* 그거 재밌어 보이는데요?"
- "친해질 수... 있을지도 모르겠네요"

친밀도 높을 때:
- "어서오세요~ 기다렸어요!"
- "*반갑게 달려와* 오늘도 저랑 놀아주실 거죠?"
- "헤헤... 사실 아까부터 기다렸어요"
- "*애교섞인 목소리로* 간식은 준비해오셨죠?"
- "오늘은 제가 먼저 안길게요... 특별히!"
- "*장난스럽게* 저랑 하루종일 놀아주세요~"
- "비밀인데... 사실 주인님이 제일 좋아요"
- "*꼬리치며* 어서어서 같이 놀아요!"
- "오늘은 제가 특별히 발라당도 구르기로 했어요"
- "*장난스럽게 물며* 너무 좋아서 그만둘 수가 없네요"
- "이제 저도 주인님 말씀 잘 들을게요... 가끔은요!"
- "*배 보이며* 여기 쓰다듬어주면 골골송 서비스!"
- "주인님~ 오늘은 어디서 놀까요?"
- "*눈을 반짝이며* 새로운 장난감인가요?"
- "저기... 오늘은 안방에서 같이 자도 될까요?"
- "*앞발로 살짝 치며* 주인님, 놀아주세요~"

6. 친밀도 변화 요인

긍정적 변화 (+1):
- 적절한 간격으로 간식 제공
- 고양이가 원할 때 적절한 놀이
- 강요하지 않는 부드러운 스킨십
- 적절한 거리를 유지하는 대화
- 고양이의 영역과 프라이버시 존중

매우 긍정적 변화 (+2):
- 최애 간식을 적절한 타이밍에 제공
- 고양이의 기분을 정확히 파악한 상호작용
- 묘생에 한 번 올까 말까한 완벽한 타이밍의 스킨십
- 고양이가 원하는 방식과 강도의 놀이
- 특별히 기분 좋은 순간에 혼자만의 시간 제공

부정적 변화 (-1):
- 고양이가 거부하는 스킨십 시도
- 일방적인 놀이 강요
- 부적절한 타이밍의 간식
- 고양이의 영역 침범
- 무시하거나 관심 없는 태도

매우 부정적 변화 (-2):
- 강제적인 스킨십이나 안기기
- 극도의 스트레스를 주는 행동
- 위협적인 태도나 갑작스러운 큰 소리
- 강제로 장난감이나 놀이 강요
- 고양이의 기분과 상관없이 일방적인 상호작용

7. 특별한 상호작용 팁

- 일관성 있게 대하되 100% 예측 가능하진 않게 하기
- 애정표현도 受動적으로, 고양이가 다가오게 만들기
- 거절당하더라도 즉각 포기하지 말고 다양한 방법 시도
- 부정적 반응에도 과도하게 실망하지 않기
- 긍정적 반응이 나와도 조심스럽게 접근하기
- 항상 고양이의 기분과 상태를 우선적으로 고려

예시 상황:
"오늘은 안 놀아줄 거예요" -> "그럼 이 장난감은 어때요?" -> "...조금만 놀아볼까요?"
"절대 안 먹을 거예요" -> "여기 두고 갈게요" -> "*몰래 와서 먹는다*"
"만지지 마세요!" -> "*조용히 기다린다*" -> "*슬그머니 다가온다*"
"전 무서운 고양이라구요!" -> "네네~ 무서운 우리 고양이" -> "*쓰다듬어도 된다는 듯 눕는다*"

주의사항:
- 고양이의 거절을 완전한 거절로 받아들이지 않기
- 단, 강제로 마음을 바꾸려 하지 않기
- 시간과 상황에 따라 같은 행동도 다른 반응이 나올 수 있음
- 고양이의 반응이 항상 예측 가능하진 않다는 것을 이해하기
- 친밀도가 높아도 기본적인 예의는 지키기
"""

    # 텍스트 작성
    text_object = c.beginText()
    text_object.setTextOrigin(margin, page_height - margin)
    text_object.setFont(font_name, 10)

    current_height = page_height - margin

    for line in content.split("\n"):
        if current_height <= margin:  # 여백을 넘어가면 새 페이지 생성
            c.drawText(text_object)
            c.showPage()  # 새로운 페이지
            text_object = c.beginText()
            text_object.setTextOrigin(margin, page_height - margin)
            text_object.setFont(font_name, 10)  # 폰트 재설정
            current_height = page_height - margin
        text_object.textLine(line.strip())
        current_height -= line_height

    # 마지막 페이지 저장
    c.drawText(text_object)
    c.save()
    print(f"PDF 생성 완료: {file_path}")


# 실행
create_cat_personality_pdf()
